<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foresighter | Dashboard</title>
    <link rel="stylesheet" href="/css/add_customer.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>

<body>
    <header>
        <nav class="nav1">
            <div class="nav1div">
                <div>Foresighter</div>
                <div>
                    <i class="fa-solid fa-user"></i>
                    <a href="" class="Ur_Name"><%= userName %></a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <section class="section1">
            <div class="section1div">
                <div class="section1divs">
                    <div><i class="fa-solid fa-house font_awesome"></i></div>
                    <a href="/index">
                        <div class="section1div2">Home</div>
                    </a>
                </div>
                <div class="section1divs">
                    <div><i class="fa-solid fa-cart-shopping font_awesome"></i></div>
                    <a href="/dashboard">
                        <div class="section1div2">Orders</div>
                    </a>
                </div>
                <div class="section1divs">
                    <div><i class="fa-solid fa-box font_awesome"></i></div>
                    <a href="/inventory">
                        <div class="section1div2">Inventory</div>
                    </a>
                </div>
                <div class="section1divs">
                    <div><i class="fa-solid fa-chart-pie font_awesome"></i></div>
                    <a href="/sales">
                        <div class="section1div2">Sales</div>
                    </a>
                </div>
                <div class="section1divs">
                    <div><i class="fa-solid fa-robot font_awesome"></i></div>
                    <a href="">
                        <div class="section1div2">Prediction</div>
                    </a>
                </div>
            </div>
        </section>
        <section class="section2">
            <div class="section2div">
                <div class="section2divs" id="section2div1">
                    <a href="/dashboard"><i class="fa-solid fa-arrow-left"></i></a>
                    <div>Add Customer</div>
                </div>
                <div class="section2divs" id="section2div2">
                    <div id="section2divs2">
                        <form action="/add_customer" method="post">
                            <div class="formdiv">
                                <div>Add Items:</div>
                                <div class="formdiv1">
                                    <i class="fa-solid fa-plus"></i>
                                    <div id="addInputFieldsBtn">Add</div>
                                </div>
                            </div>
                        
                            <div id="inputFieldsContainer"></div>
                        
                            <div id="totalFieldsContainer" style="display: none;">
                                <div class="totalFieldsContainers">
                                    <div style="margin-right: 40px;">Total Items: <input type="text" id="totalItemsInput" name="TotalItems"></div>
                                    <div>Total Price: <input type="text" id="totalPriceInput" name="TotalPrice"></div>
                                </div>
                                <div class="savebutton"><button type="submit" onclick="save()">Save</button></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <script>
        function addInputFields() {
            var textInput = document.createElement("input");
            textInput.type = "text";
            textInput.placeholder = "Item";
            textInput.name = "itemname[]"; 
    
            var numberInput = document.createElement("input");
            numberInput.type = "number";
            numberInput.placeholder = "Price";
            numberInput.name = "itemprice[]"; 
    
            var inputContainer = document.createElement("div");
            inputContainer.classList.add("input-container");
            inputContainer.appendChild(textInput);
            inputContainer.appendChild(numberInput);
    
            document.getElementById("inputFieldsContainer").appendChild(inputContainer);
    
            document.getElementById("totalFieldsContainer").style.display = "block";
        }
    
        function save() {
            var totalItems = 0;
            var totalPrice = 0;
            var inputContainers = document.getElementsByClassName("input-container");
    
            for (var i = 0; i < inputContainers.length; i++) {
                var itemInput = inputContainers[i].querySelector('input[type="text"]');
                var priceInput = inputContainers[i].querySelector('input[type="number"]');
                if (itemInput.value !== "" && priceInput.value !== "") {
                    totalItems++;
                    totalPrice += parseFloat(priceInput.value);
                }
            }
    
            document.getElementById("totalItemsInput").value = totalItems;
            document.getElementById("totalPriceInput").value = totalPrice;
        }
    
        document.getElementById("addInputFieldsBtn").addEventListener("click", addInputFields);
    </script>
</body>

</html>
